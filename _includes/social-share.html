{% include base_path %}

<section class="page__share">
  {% if site.data.ui-text[site.locale].share_on_label %}
    <h4 class="page__share-title">{{ site.data.ui-text[site.locale].share_on_label | default: "Share on" }}</h4>
  {% endif %}

  <a href="https://www.linkedin.com/shareArticle?mini=true&url={{ base_path }}{{ page.url }}" class="btn btn--linkedin" title="{{ site.data.ui-text[site.locale].share_on_label | default: 'Share on' }} LinkedIn"><i class="fab fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>

  <a href="https://twitter.com/intent/tweet?text={{ base_path }}{{ page.url }}" class="btn btn--twitter" title="{{ site.data.ui-text[site.locale].share_on_label | default: 'Share on' }} Twitter"><i class="fab fa-x-twitter" aria-hidden="true"></i><span> X</span></a>

  <button class="btn btn--copy-link" id="copyLinkButton" title="Copy Page Link"><i class="fas fa-copy" aria-hidden="true"></i><span> Copy Link</span>
    <div id="copySuccessMessage" class="copy-success-message" style="display:none;">Link copied successfully!</div>
  </button>
</section>

<script>
  document.addEventListener('DOMContentLoaded', function() {
      var copyLinkButton = document.getElementById('copyLinkButton');
      var copySuccessMessage = document.getElementById('copySuccessMessage'); // Seleciona o elemento correto

      copyLinkButton.addEventListener('click', function() {
          var pageUrl = '{{ base_path }}{{ page.url }}'; // Obtém o URL da página atual
          var tempInput = document.createElement('input');
          tempInput.value = pageUrl;
          document.body.appendChild(tempInput);
          tempInput.select();
          document.execCommand('copy');
          document.body.removeChild(tempInput);

          // Mostrar mensagem de sucesso
          copySuccessMessage.style.display = 'block';

          // Esconder a mensagem após alguns segundos (opcional)
          setTimeout(function() {
              copySuccessMessage.style.display = 'none';
          }, 3000); // Esconde após 3 segundos (3000 milissegundos)
      });
  });
</script>